# 选课管理系统 - 用户登录系统

## 系统概述

本系统已升级为多用户登录系统，支持学生、教师和管理员三种用户类型，每种用户都有不同的权限和功能界面。

## 用户类型和权限

### 1. 管理员用户 (100001-199999)
- **权限范围**: 拥有系统所有功能的管理权限
- **主要功能**: 
  - 学生信息管理
  - 教师信息管理
  - 课程信息管理
  - 选课记录管理
  - 成绩统计分析
  - 生源地统计
  - 系统数据维护

### 2. 学生用户 (600001-699999)
- **权限范围**: 只能查看和管理自己的信息
- **主要功能**:
  - 查看个人信息
  - 查看选课记录
  - 查看成绩统计
  - 个人学习进度跟踪

### 3. 教师用户 (700001-799999)
- **权限范围**: 教学相关功能
- **主要功能**:
  - 查看个人信息
  - 课程管理
  - 选课记录查看
  - 成绩分析
  - 教学统计

## 登录方式

### 默认登录信息
- **用户名**: 用户号码（学号/工号/管理员ID）
- **密码**: 与用户号码相同（默认密码）

### 登录示例
```
学生登录:
用户名: 600001
密码: 600001

教师登录:
用户名: 700001
密码: 700001

管理员登录:
用户名: 100001
密码: 100001
```

## 数据库初始化

### 1. 执行基础数据库脚本
```sql
-- 执行 init_database.sql 创建基础表结构和数据
```

### 2. 执行用户表初始化脚本
```sql
-- 执行 user_init.sql 创建用户表和初始用户数据
```

### 3. 验证用户数据
```sql
-- 查看用户总数
SELECT COUNT(*) FROM huyl_user10;

-- 查看各类型用户数量
SELECT user_type, COUNT(*) FROM huyl_user10 GROUP BY user_type;
```

## 系统功能模块

### 管理员功能
- **首页**: 系统概览和统计信息
- **学生管理**: 学生信息的增删改查
- **教师管理**: 教师信息的增删改查
- **课程管理**: 课程信息的增删改查
- **选课管理**: 选课记录的增删改查
- **成绩统计**: 成绩分析和统计
- **生源地统计**: 学生来源地分析

### 学生功能
- **仪表板**: 个人信息和学习统计
- **选课记录**: 查看个人选课情况
- **成绩查看**: 查看个人成绩

### 教师功能
- **仪表板**: 个人信息和教学统计
- **课程管理**: 管理所授课程
- **选课记录**: 查看课程选课情况
- **成绩分析**: 分析课程成绩

## 安全特性

### 1. 会话管理
- 用户登录后创建会话
- 会话超时自动登出
- 登出时清除会话数据

### 2. 权限控制
- 基于用户类型的权限验证
- 路径级别的访问控制
- 自动重定向到相应界面

### 3. 输入验证
- 用户名和密码格式验证
- SQL注入防护
- XSS攻击防护

## 技术架构

### 后端技术
- **Servlet**: 处理HTTP请求
- **JSP**: 页面渲染
- **JSTL**: 页面逻辑处理
- **PostgreSQL**: 数据存储
- **JDBC**: 数据库连接

### 前端技术
- **HTML5**: 页面结构
- **CSS3**: 页面样式
- **JavaScript**: 交互逻辑
- **响应式设计**: 适配不同设备

## 部署说明

### 1. 环境要求
- Java 24+
- Apache Tomcat 10+
- PostgreSQL 12+
- Maven 3.6+

### 2. 部署步骤
1. 克隆项目代码
2. 配置数据库连接
3. 执行数据库初始化脚本
4. 编译打包项目
5. 部署到Tomcat
6. 访问系统

### 3. 配置文件
- `database.properties`: 数据库连接配置
- `web.xml`: Web应用配置

## 使用流程

### 首次使用
1. 访问系统首页
2. 自动重定向到登录页面
3. 使用默认账号密码登录
4. 根据用户类型进入相应界面

### 日常使用
1. 输入用户号码和密码
2. 系统验证身份和权限
3. 进入对应的功能界面
4. 使用相应功能模块

## 注意事项

1. **密码安全**: 建议首次登录后修改默认密码
2. **会话管理**: 长时间不操作会自动登出
3. **权限限制**: 不同用户类型只能访问相应功能
4. **数据备份**: 定期备份数据库数据
5. **系统维护**: 定期检查系统运行状态

## 故障排除

### 常见问题
1. **登录失败**: 检查用户名密码是否正确
2. **权限不足**: 确认用户类型和权限设置
3. **数据库连接失败**: 检查数据库配置和连接
4. **页面显示异常**: 检查浏览器兼容性

### 技术支持
如遇到问题，请联系系统管理员或查看系统日志。

---

**版本**: 1.0  
**更新日期**: 2025年1月  
**开发者**: 选课管理系统开发团队 